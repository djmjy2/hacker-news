{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/app.ts"],"names":[],"mappings":";;;;;;AGAa,AFAb,IAAA,GEAa,CAAA,AFAb,QEAa,GAAW,sCAAX;AACA,AFDb,OECa,CAAA,WAAA,GAAc,wCAAd;AFDb,YAAA;AAMI,WAAA,IAAA,CAAY,WAAZ,EAAiC,QAAjC,EAAiD;AAC7C,QAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAT,CAAwB,WAAxB,CAAzB;;AMPR,ANSQ,IMTR,INSY,CAAC,GMTb,GAAA,UNSQ,EAAuB,GMT/B,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;ANUY,AKTZ,IAAA,QLSkB,UKTlB,GAAA,OAAA,CAAA,QLSY,YKTZ,CAAA;ACAA,ANUS,IMVT,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;ADAS,MAAA,CAAA,cAAA,CAAA,OAAA,EAAA,gBAAA,EAAA;ACGT,ANSQ,AKZC,EAAA,ECGH,KAAK,ANSE,GMTQ,ADHZ,EAAA,ILYD,AKZC,GLYgB,gBAAjB;AMRN,ANSM,AKbC,ECIP,ADJO,GAAA,EAAA,ELaI,IMTA,EAAE,CADM,CNUb,GAAgB,EKbf,MLaD;AMRN,ANSM,AKdC,ECKP,KAAK,EAAE,ANSI,EKdJ,YLcD,GAAsB,AKdrB,CAAA,OLcD,WKdC,CAAA,CAAA,OAAA;ACGY,ANYb,AKfQ,CCGhB,QNYa,QAAL,GAAgB,EAAhB;AMDR,ANEK,AKhBI,CAAA,KCcH,CAAC,KAAP,GAAe,KAAf;AAEA,IAAM,MAAM,GAAW,IAAI,QAAA,CAAA,OAAJ,EAAvB;AACA,ANCc,AKjBd,ELiBc,EMDR,ADhBN,ELiBc,CAAA,SMDI,ANCJ,CAAA,EMDO,CDhBrB,GCgByB,ADhBzB,ILiBc,EMDW,CAAA,ANCrB,AKjBJ,CAAA,WCgBqB,ANCjB,CMDkC,MAAjB,ADhBrB,CCgBA,ADhBA;ACiBA,APhBA,ACiBQ,IMDF,APhBN,KCiBa,CDjBb,QOgBoB,ANCZ,CAAe,EMDA,IAAI,GNCnB,GMDmB,ANCQ,CMDR,INCa,UMDjB,CAAmB,GNClC,GMDe,CAAvB;AAEA,APlBA,ACkBQ,AKnBC,MCmBH,ADnBG,CCmBF,ADnBE,ELmBI,YMAb,ADnBS,CCmBa,ADnBb,CLmBD,GAAsB,GKnBrB,ELmB0B,AKnB1B,GCmBT,KNAQ,MKnBC,EAAA;ACqBT,APpBA,ACmBK,AKpBI,EAAA,CLiBK,GMIR,CAAC,KPpBP,AMDS,EAAA,IAAA,CCqBT,CAAoB,QAApB,EAA8B,YAA9B;AACA,APjBE,AMLO,EAAA,GAAA,CCsBH,CAAC,ADtBE,INKP,MAAA,EOiBF,CAAoB,APjBlB,EMLO,MCsBT,EAA8B,cAA9B;AAEA,APlBI,ACgBU,AKtBL,ELsBK,EDhBV,EOkBE,ANFQ,CMEP,ANFO,GDhBJ,CAAC,AMNF,CCwBT,IAAgB,ANFF,CAAA,OAAA,EKtBL,CNML,ACgBA,AKtBK,CNMmB,SCgBN,GDhBlB,EAAsC,CMNjC,CAAA,CAAA,ENMsC,ACgB3C,EAAoC,GDhBE,AMNjC,CNM4C,IAAX,CAAgB,IAAhB,CAAtC,EADF,CACgE;ACiB1D,AKvBQ,SLuBH,QAAL,CAAc,IAAd,CAAmB,UAAnB;ADfJ,ACgBC,AKxBI,CAAA,ELsBK,MDdL,UAAL,GAAkB,EAAlB;AACA,SAAK,YAAL,GAAoB,IAApB;AACD,ACgBW,EAAA,IAAA,CAAA,SAAA,CAAA,OAAA,GAAV,YAAA;AACI,QAAM,QAAQ,GAAG,KAAK,QAAL,CAAc,IAAd,CAAmB,EAAnB,CAAjB;ADfN,ACgBM,EDhBN,MAAA,CAAA,ACgBW,SDhBX,CAAA,GCgBM,GAFJ,CAE0B,ODhB5B,GAAA,UAAe,IAAf,EAAyB;AACvB,SAAK,YAAL,GAAoB;AEfxB,AFe0B,ACgBlB,IC/BR,EFe0B,CEf1B,GFe8B,CCgBf,CDhBiB,EAAR,KCgBhB;AC/BR,AFeoC,ACiB/B,GAJS,GDbsB,IAAI,EAAA;AEfxC,AFewB,KAApB,OEfJ;AAII,AFYD,ACkBW,EAAA,CDpBZ,GCoBY,CAAA,IC9BV,GAAA,CAAY,CD8BF,CAAA,CC9BV,EAAuB,YD8Bb,GAAV,UAA0B,GAA1B,EAAuC,KAAvC,EAAoD;AC7BlD,AD8BE,SC9BG,AD8BE,IC9BP,GAAY,IAAI,GD8Bd,GAAsB,KAAK,GC9BjB,EAAZ,SD8BwB,CAAoB,OAApB,CAA4B,SAAO,GAAP,GAAU,MAAtC,EAA8C,KAA9C,CAAtB;AC7BF,AFYJ,ACkBG,AGpCL,ACAA,ELkBE,CCgBY,CGlCd,ACAA,ILkBE,CEZS,AFYT,CIlBF,ACAA,EHMM,CENN,ACAA,EHMiB,GAAX,AFYJ,CAAA,SIlBF,ACAA,CDAA,ACAA,ELkBE,GAAA,EIlBF,ACAA,CDAA,ACAA,OLkBe,IAAb,EAA2B,CIlB7B,ACAA,CDAA,ACAA,CDAA,ACAA,CLkBE,EAAqC;AEXlC,AFYD,SAAK,UAAL,CAAgB,IAAhB,CAAqB;AAAE,ACmBf,AGrCZ,ACAA,EJqCY,EGrCZ,ACAA,ELkB2B,ACmBf,CAAA,EGrCZ,ACAA,CLkB+B,EAAA,AIlB/B,ACAA,ILkByB,ACmBb,CAAA,EGrCZ,ACAA,CDAA,ACAA,UJqCY,GAAR,AGrCJ,ACAA,CDAA,ACAA,WJqCI;AC7BA,AFU6B,ACoBzB,EC9BJ,GAAA,CAAA,AFU6B,GCoBpB,CDpBwB,EAAA,GEVjC,CAAA,CD8BI,GAAgB,EAAhB,IC9BJ,GAAA,YAAA;AACE,AFSmB,ACqBpB,AGrCL,ACAA,GJmCY,CGnCZ,ACAA,CLgBI,IETO,GEPX,ACAA,CHOM,CAAU,CEPhB,ACAA,GHOM,CAAe,GEPrB,ACAA,CDAA,ACAA,CHOM,EAAsB,KAAK,GAA3B,AEPN,ACAA,CDAA,ACAA,CHOsC,KAAhC;AACA,AFSH,GAFD,MEPS,IAAL,CAAU,IAAV;AAEA,AD8BN,AGtCA,ACAA,IDAM,ACAA,KJsCN,EC9Ba,CERC,ACAA,CJsCd,EC9BiB,AERA,ACAQ,CHQP,KAAL,CAAW,KAAK,IAAL,CAAU,QAArB,CAAP,krBGRN,+BDAA;AFSK,AFQH,ACtBF,CAAA,CDsBE,CEbE,ADTJ,KDsBE,CAAA,SAAA,CAAA,KAAA,GAAA,YAAA;AIYF,ACJA,IDIA,ACJA,YAAA,EDIA;AFnBE,AEmBF,ACJA,SHfE,GAAA;AAfF,AFuBI,AIWJ,ACJA,CH9BA,EAAA,KFuBU,EIWV,ACJA,MDIA,ACJA,CLPmB,CIWnB,ACJA,ELPsB,QAAQ,CAAC,IAA3B;AIWwC,ACJF,EDIE,ACJF,SDIE,ACJF,CDIE,ACJF,YAAA,EDIE,ACJF,EDIE,ICJF,CAAA,CDIE,CAAA;AFlC/B,AFyBT,OEzBS,CAAA,AFyBL,GEzBK,GAAA,GAAA,AFyBI,KAAK,EAAd,IAAoB,KAAK,YAA7B,EAA2C;AACzC,AISJ,ACDA,WLRS,AIST,ACDA,YLRI,AKQJ,CLRsB,AKQV,CDCZ,CAAY,EJTR,CAAuB,MAAvB,AKQJ,EDCA,ACD+B,EDCA;AFlB/B,AFUG,AKOH,IHjBA,IGiBA,GDGE,ECHF,EHjBA,CGmBE,CDCA,CAAA,IAAA,ACDA,CDCA,ACDA,IDCA,ACDA,CAAA,CDCM,GCDN,EAAM,MDCN,EAAmB,GCDnB,EAAmB,GDCnB,KAA4B,ACD5B,KAA4B,IAF9B;AHjBA,AEqBC;AFrBD,AGqBE,IAAA,KAAI,CHrBN,AGqBO,GAAL,GHrBF,AGqBa,EHrBb,EGqBiB,KAAA,CAAA,WAAJ,CAAgB,QAAA,CAAA,QAAhB,CAAX;AHrB+B,AFY/B,AIWF,ACDE,EHtB+B,AEuBjC,ECDE,KAAI,CAAC,CHtB0B,AFYP,CEZO,GFYP,AKUxB,CDCF,CJX0B,AIW1B,CCDe,ELVW,GEZO,AGsBb,CAAC,CHtBY,CEuBjC,CAAA,CJX0B,CAAA,AKUxB,EHtB+B,CAAA,CEuBjC,CJX+B,EIW/B,QJX0B,CAAA,EAAe,CIWzC,CJXyC,GAAA,EAAA,CAAA,IAAA,EAAvC,EAAuC,CAAA,EAAA,CAAA,IAAvC,EAAuC,EAAA,GAAA,EAAA,CAAA,IAAA,EAAvC,EAAyC;AAApC,AIYL,QAAM,EAAE,EJZG,CIYA,QJZS,AIYD,CAAC,EJZA,EAAA,AIYT,CJZS,AIYK,KJZpB,CIYM,CAAqB,CAArB,CAAX;AFxBF,AEyBE,ACDA,QDCM,ACDF,GHxBN,AEyBW,ECDD,CDCI,ACDH,IDCO,CCDZ,CAAW,EHxBjB,CEyBkB,CAAA,CFzBlB,CGwBM,KAAsB,CAA1B,EAA6B,GDCjB,CAAkB,QAAA,CAAA,WAAA,CAAY,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAlB,CAAZ;AJZE,AIaF,ACDE,MAAA,EDCI,GCDA,CLZA,AKYC,KAAL,CDCc,ECDD,CLZA,AIagB,CJbf,EIakB,CAAC,ACDf,CAAC,GLZf,CAAkB,CKYT,CDCgB,EAA/B,ACD6B,KLZI,AKYA,CLZC,AKYA,GAAL,CLZvB,AKYgC,KLZK,CAAzC,C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","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import {RouteInfo} from '../types';\r\nimport View from './view';\r\n\r\nexport default class Router { \r\n  routeTable: RouteInfo[];\r\n  defaultRoute: RouteInfo | null;\r\n\r\n  constructor() {\r\n    window.addEventListener('hashchange', this.route.bind(this)); //윈도우 해시체인지에 route를 연결\r\n\r\n    this.routeTable = [];\r\n    this.defaultRoute = null;\r\n  }\r\n  \r\n  setDefaultPage(page: View): void {\r\n    this.defaultRoute = { path: '', page };\r\n  }\r\n\r\n  addRoutePath(path: string, page: View): void {\r\n    this.routeTable.push({ path, page });\r\n  }\r\n\r\n  route() {\r\n    const routePath = location.hash;\r\n\r\n    if (routePath === '' && this.defaultRoute) {\r\n      this.defaultRoute.page.render();\r\n    }\r\n\r\n    for (const routeInfo of this.routeTable) {\r\n      if (routePath.indexOf(routeInfo.path) >= 0) {\r\n        routeInfo.page.render();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","export default abstract class View {\r\n    private template: string;\r\n    private renderTemplate: string; //원본템플릿 보존을 위해\r\n    private container: HTMLElement;\r\n    private htmlList: string[];\r\n\r\n    constructor(containerId: string, template: string) {\r\n        const containerElement = document.getElementById(containerId);\r\n\r\n        if (!containerElement) {\r\n            throw '최상위 컨테이너가 없어 UI를 진행하지 못합니다.';\r\n        }\r\n\r\n        this.container = containerElement;\r\n        this.template = template;\r\n        this.renderTemplate = template;\r\n        this.htmlList = [];\r\n    }\r\n\r\n    protected updateView(): void {\r\n        this.container.innerHTML = this.renderTemplate;\r\n        this.renderTemplate = this.template;\r\n    }\r\n\r\n    protected addHtml(htmlString: string): void {\r\n        this.htmlList.push(htmlString);\r\n    }\r\n\r\n    protected getHtml(): string {\r\n        const snapshot = this.htmlList.join('');\r\n        this.clearHtmlList(); //최총 호출 이후 HTML 클리어\r\n        return snapshot;\r\n    }\r\n\r\n    protected setTemplateData(key: string, value: string): void {\r\n        this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\r\n    }\r\n\r\n    private clearHtmlList(): void {\r\n        this.htmlList = [];\r\n    }\r\n\r\n    abstract render(): void;\r\n}","export class Api {\r\n    ajax: XMLHttpRequest;\r\n    url: string;\r\n  \r\n    constructor(url: string) {\r\n      this.ajax = new XMLHttpRequest();\r\n      this.url = url;\r\n    }\r\n  \r\n    getRequest<AjaxResponse>(): AjaxResponse {\r\n      this.ajax.open('GET', this.url, false);\r\n      this.ajax.send();\r\n  \r\n      return JSON.parse(this.ajax.response);\r\n    }\r\n  }\r\n  \r\n  export class NewsFeedApi extends Api {\r\n    getData(): NewsFeed[] {\r\n      return this.getRequest<NewsFeed[]>();\r\n    }\r\n  }\r\n  \r\n  export class NewsDetailApi extends Api {\r\n    getData(): NewsDetail {\r\n      return this.getRequest<NewsDetail>();\r\n    }\r\n  }","export const NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\r\nexport const CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';","import View from '../core/view';\r\nimport { NewsDetailApi } from '../core/api';\r\nimport { NewsDetail, NewsComment } from '../types';\r\nimport { CONTENT_URL } from '../config';\r\n\r\nconst template = `\r\n<div class=\"bg-gray-600 min-h-screen pb-8\">\r\n  <div class=\"bg-white text-xl\">\r\n    <div class=\"mx-auto px-4\">\r\n      <div class=\"flex justify-between items-center py-6\">\r\n        <div class=\"flex justify-start\">\r\n          <h1 class=\"font-extrabold\">Hacker News</h1>\r\n        </div>\r\n        <div class=\"items-center justify-end\">\r\n          <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\r\n            <i class=\"fa fa-times\"></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\r\n    <h2>{{__title__}}</h2>\r\n    <div class=\"text-gray-400 h-20\">\r\n      {{__content__}}\r\n    </div>\r\n\r\n    {{__comments__}}\r\n\r\n  </div>\r\n</div>\r\n`;\r\n\r\nexport default class NewsDetailView extends View {\r\n  constructor(containerId: string) {\r\n\r\n    super(containerId, template);  \r\n  }\r\n\r\n  render() {\r\n    const id = location.hash.substr(7);\r\n    const api = new NewsDetailApi(CONTENT_URL.replace('@id', id));\r\n    const newsDetail: NewsDetail = api.getData();\r\n\r\n    for(let i=0; i < window.store.feeds.length; i++) {\r\n      if (window.store.feeds[i].id === Number(id)) {\r\n        window.store.feeds[i].read = true;\r\n        break;\r\n      }\r\n    }\r\n  \r\n    this.setTemplateData('comments', this.makeComment(newsDetail.comments))\r\n    this.setTemplateData('currentPage', String(window.store.currentPage));\r\n    this.setTemplateData('title', newsDetail.title);\r\n    this.setTemplateData('content', newsDetail.content);\r\n\r\n    this.updateView();  \r\n  }\r\n\r\n  makeComment(comments: NewsComment[]): string {\r\n    for(let i = 0; i < comments.length; i++) {\r\n      const comment: NewsComment = comments[i];\r\n  \r\n      this.addHtml(`\r\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\r\n          <div class=\"text-gray-400\">\r\n            <i class=\"fa fa-sort-up mr-2\"></i>\r\n            <strong>${comment.user}</strong> ${comment.time_ago}\r\n          </div>\r\n          <p class=\"text-gray-700\">${comment.content}</p>\r\n        </div>      \r\n      `);\r\n  \r\n      if (comment.comments.length > 0) {\r\n        this.addHtml(this.makeComment(comment.comments));\r\n      }\r\n    }\r\n  \r\n    return this.getHtml();\r\n  }  \r\n}","import View from '../core/view';\r\nimport { NewsFeedApi } from '../core/api';\r\nimport { NewsFeed } from '../types';\r\nimport { NEWS_URL } from '../config';\r\n\r\nconst template: string = `\r\n<div class=\"bg-gray-600 min-h-screen\">\r\n  <div class=\"bg-white text-xl\">\r\n    <div class=\"mx-auto px-4\">\r\n      <div class=\"flex justify-between items-center py-6\">\r\n        <div class=\"flex justify-start\">\r\n          <h1 class=\"font-extrabold\">Hacker News</h1>\r\n        </div>\r\n        <div class=\"items-center justify-end\">\r\n          <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\r\n            Previous\r\n          </a>\r\n          <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\r\n            Next\r\n          </a>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  </div>\r\n  <div class=\"p-4 text-2xl text-gray-700\">\r\n    {{__news_feed__}}        \r\n  </div>\r\n</div>\r\n`;\r\n\r\nexport default class NewsFeedView extends View {\r\n  private api: NewsFeedApi;\r\n  private feeds: NewsFeed[];\r\n  \r\n  constructor(containerId: string) {\r\n\r\n    super(containerId, template);\r\n\r\n    this.api = new NewsFeedApi(NEWS_URL);\r\n    this.feeds = store.feeds;\r\n  \r\n    if (this.feeds.length === 0) {\r\n      this.feeds = store.feeds = this.api.getData();\r\n      this.makeFeeds();\r\n    }\r\n  }\r\n  \r\n  render(): void {\r\n    store.currentPage = Number(location.hash.substr(7) || 1);\r\n\r\n    for(let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++) {\r\n      const { id, title, comments_count, user, points, time_ago, read } = this.feeds[i];\r\n      this.addHtml(`\r\n        <div class=\"p-6 ${read ? 'bg-red-500' : 'bg-white'} mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\r\n          <div class=\"flex\">\r\n            <div class=\"flex-auto\">\r\n              <a href=\"#/show/${id}\">${title}</a>  \r\n            </div>\r\n            <div class=\"text-center text-sm\">\r\n              <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex mt-3\">\r\n            <div class=\"grid grid-cols-3 text-sm text-gray-500\">\r\n              <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\r\n              <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\r\n              <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\r\n            </div>  \r\n          </div>\r\n        </div>    \r\n      `);\r\n    }\r\n  \r\n    this.setTemplateData('news_feed', this.getHtml());\r\n    this.setTemplateData('prev_page', String(store.currentPage > 1 ? store.currentPage - 1 : 1));\r\n    this.setTemplateData('next_page', String(store.currentPage + 1));\r\n  \r\n    this.updateView();  \r\n  }\r\n\r\n  private makeFeeds(): void {\r\n    for (let i = 0; i < this.feeds.length; i++) {\r\n      this.feeds[i].read = false;\r\n    }\r\n  }  \r\n}","\r\nexport { default as NewsDetailView } from './news-detail-view';\r\nexport { default as NewsFeedView} from './news-feed-view';","import Router from './core/router';\r\nimport { NewsDetailView, NewsFeedView }from './page';\r\nimport { Store } from './types';\r\n\r\nconst store: Store = {\r\n  currentPage: 1,\r\n  feeds: [],\r\n};\r\n\r\ndeclare global {\r\n  interface Window {\r\n    store : Store;\r\n  }\r\n}\r\n\r\nwindow.store = store;\r\n\r\nconst router: Router = new Router();\r\nconst newsFeedView = new NewsFeedView('root');\r\nconst newsDetailView = new NewsDetailView('root');\r\n\r\nrouter.setDefaultPage(newsFeedView);\r\n\r\nrouter.addRoutePath('/page/', newsFeedView);\r\nrouter.addRoutePath('/show/', newsDetailView);\r\n\r\nrouter.route(); //최초 실행시엔 해시체인지가 발생하지 않으므로 route를 수동동작\r\n"]}