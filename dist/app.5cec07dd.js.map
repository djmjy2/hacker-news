{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/store.ts","src/app.ts"],"names":[],"mappings":";;;;;;AGAa,OAAA,CAAA,QAAA,GAAW,sCAAX;AACA,OAAA,CAAA,WAAA,GAAc,wCAAd;;;;;AKDb,IAAA,APA8B,QOA9B,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;APMI,AKLJ,IAAA,ACCa,YNIG,MKLhB,GAAA,ELKI,EAAiC,GKLrC,CAAA,ILKI,EAAiD,cKLrD,CAAA;AEAA,APKqD,AMAnD,ICLF,MAAA,GAAA,MDKE,CCLF,CAAA,QAAA,CAAA;AFAS,ACKP,MDLO,CAAA,cAAA,CAAA,OAAA,EAAA,gBAAA,EAAA;AECT,APKQ,AKNC,EAAA,EECT,IPKc,GOLd,CFDS,EECT,AFDS,IAAA,GECT,CAAA,EPK8B,GAAG,IOLjC,CAAA,GPKyC,CAAC,cAAT,CAAwB,WAAxB,CAAzB;AKNC,ACML,EDNK,GAAA,EAAA,ECMA,KAAL,GAAa,EAAb,GDNK;AEGT,APKQ,AKRC,ACOL,ICJE,ARDe,ICMT,COLD,APKE,AMDJ,EDPA,CEGK,IAAI,KDId,ECJc,CAAA,ADIM,CNChB,AMDJ,CDPK,CLQsB,AKRtB,EEGK,EAAd,cFHS,CAAA,CAAA,OAAA;AEKT,ARCE,ACGU,AKTI,ACQb,ICHG,MAAM,EPIM,COJK,IAAI,GRCzB,KQDyB,CAAA,OAAJ,EAAvB,MPIY;AOHZ,ARAE,ACIO,AKVA,CAAA,GEMH,YAAY,GAAG,IAAI,MAAA,CAAA,YAAJ,CAAiB,MAAjB,EAAyB,KAAzB,CAArB;AACA,IAAM,cAAc,GAAG,IAAI,MAAA,CAAA,cAAJ,CAAmB,MAAnB,EAA2B,KAA3B,CAAvB;AAEA,ARFI,ACKI,AKXR,INMI,AMNJ,EEQM,CAAC,EPGM,CDLH,CAAC,OCKH,EKXR,CEQA,APGyB,COHH,CFRtB,INMI,CAAwB,EMN5B,CAAA,GEQA,GPGQ,GDLJ,EAAsC,KAAK,EMN/C,CAAA,ENM0C,CAAW,IAAX,CAAgB,IAAhB,CAAtC,EADF,CACgE;AQIlE,APEQ,MOFF,CAAC,EPEM,AMHX,QNGM,EOFR,CAAoB,APEI,IMHP,ICCjB,APEQ,EOFsB,YAA9B;AACA,ARHI,ACKI,AKbC,ACUL,MCCE,AFXG,CEWF,AFXE,ENQA,ACKI,IMHF,KAAK,CCChB,ARHI,CQGgB,CFXX,CNQa,AMRb,CLaD,CDLJ,ECK0B,EOF9B,CFXS,CEWqB,ADD1B,CDVK,GLaD,UOFR,CFXS,EAAA;AEaT,ARJI,ACKI,AKdC,ACWN,EDXM,IEaH,CAAC,ERJE,ACKI,GODb,AFbS,EAAA,EEaO,CPCR,CKdC,ELce,CDLpB,CCKI,EDLgB,IAApB;AACD,ACKE,AKfI,EAAA,GAAA,EAAA,ECaP,aDbO,ACaS,IAAhB,EAA4B;ADbrB,ACcL,WDdK,ACcA,YAAL,GDdK,ACce,CDdf,GCcL,aDdK,CAAA,CAAA,OAAA;AAAO,ACeb;ADfM,CAAA,GJAI;AAIT,AGNJ,IAAA,MAAA,CLcE,ACKY,EInBd,EHMgB,GAAZ,EAAuB,QGN3B,CAAA,IJmBwB,EDLP,CKdjB,CAAA,ELcE,EAAyB,UKd3B,CAAA,CAAA;AHM2B,AFSvB,ACKI,SMDN,EPJO,ACKI,SAAL,CAAe,EDLnB,COIU,EPJU,ICKhB,GAA2B,KAAK,cAAhC;ADLkB,ACMlB,AIpBR,AEmBI,IFnBJ,ILc0B,CKd1B,EJoBa,CDNiB,AKd9B,CEmBW,CPLqB,EAAR,EOKR,CFnBhB,CAAA,KJoBQ,GAAsB,EMDnB,GNCwB,AIpBnC,AEmB+B,CFnB/B,AEmBI,ONCI;ACdF,AFQ8B,ACO/B,AMDF,QPNiC,CERzB,GFQ6B,CERlC,CFQ8B,EERlB,IAAI,cAAJ,EAAZ;AACA,AFOkB,AIfxB,ACGA,IDHA,ACGA,GLYI,EEPO,CERX,EFQM,AGLN,CDHA,EFQiB,AGLjB,GHKM,IGLN,CAAA,KDHA,CAAA,KCGA,CAAA,CDHA,CAAA,cAAA,CAAA,CAAA;AFSK,AFOF;AIfH,ACIA,IDJA,ACIM,KDJN,AGsBE,ENCY,CGvBd,ACIc,ODJd,CAAA,IGsBc,INCQ,KGvBtB,CAAA,IHuBc,EAA0B,mrBInBxC;AJoBQ,AMDJ,WNCS,EMDF,KAAK,CNCR,CAAc,IAAd,CAAmB,KMDhB,GAAoB,CAApB,CNCH,EMD2B,KAAK,YAAL,GAAoB,CAA5C,GAAgD,CAAvD;ANEC,AGvBL,AGsBG,IHtBH,AC2BqB,OLZnB,CIfF,GAAA,OAAA,CAAA,UJee,CIff,CAAA,EJeE,EAA2B,IAA3B,EAAqC;AACnC,WERA,AFQK,UAAL,CAAgB,IAAhB,CAAqB,MERX;AACR,AFOqB,AId3B,IAAM,IJcqB,GEPhB,CFOoB,AIdjB,EJca,CEPrB,CAAU,EFOS,EEPnB,CAAe,KAAf,EAAsB,KAAK,GAA3B,EAAgC,KAAhC,+sBEPN;AFQM,AFM2B,QAAA,COQ/B,ELdS,ADeG,CDTuB,EAAJ,CEN3B,CAAU,IAAV,IKcY,MNCG;ACbf,AFImB,ACUjB,AMDJ,IHMiB,GJfjB,GCUU,GCdD,AKaF,ILbM,CAAC,ADcI,AMDN,GNCS,ECdZ,AKaF,CLba,AKaF,ENCQ,GCdD,CKazB,GLboB,CAAU,ADcT,CAAc,IAAd,CAAmB,ECd/B,ADcY,CCdnB,ADcE;ACbH,AFIF,ACUK,AIIN,AELC,WNCU,aAAL,AIIM,GJNO,CAES,OII5B,EAAiC,KAAjC,EAAiD;AAAA;AJH3C,aAAO,QAAP;AACH,AIE8C,SEHjD,EPTA,aOSY,IPTP;AACH,AIaF,AGJE,UPTM,GOSC,KAAK,CPTG,GAAG,COSX,CAAW,EHIR,IJbgB,AOSnB,CPToB,EOSA,CAA3B,CPTA,EIaF,EAAiC,KAAjC,EAAiD;AAAA,ACA/C,AEHD,8BFGO,WAAN,EAAmB,QAAnB;AHlCJ,AFuBI,OEvBJ,CAAA,EFuBQ,CEvBR,ADgCc,GChCd,GAAA,EFuBiB,KAAK,EAAd,IAAoB,KAAK,CCSH,GAAhB,EAA6B,KAA7B,CDTV,CCSoD,CDTT;AACzC,ACSE,AGC2C,ACUjD,UAAA,CJXW,EDTF,GKoBT,GAAS,MLpBL,ACSE,CDTgB,ECSM,EDTxB,CAAuB,AKoBY,EJXN,IDT7B,UCSwB,CAAoB,OAApB,eAAmC,GAAnC,WAA8C,KAA9C,CAAtB;ADRH,ACSA,AIUoC,IH3B1B,MG2BH,CEXV,GFWuC,oBEX5B,mDFWc,GAAc;ADTrC,ACUA,AEXA,YFWK,CEXE,IFWP,CAAW,AEXC,KAAZ,MFWA,CDVM,ECUmB,MAAM,CAAC,EDVhC,EAAmB,ACUY,CAA/B,ODVA;AJfG,AIiBH,AGFD,UHEM,KAAL,GAAa,KAAb,0BJVwB,KAAK,UAP1B;AAAA,AIc4C,ACa/C,WJXQ,AIWJ,IAAI,CAAC,GAAG,CAAC,MAAK,KAAL,CAAW,IJXH,OIWR,GAAyB,CAA1B,IAA+B,EAA3C,EAA+C,CAAC,GAAG,MAAK,KAAL,CAAW,WAAX,GAAyB,EAA5E,EAAgF,CAAC,EAAjF,EAAqF;AJVjF,AGCL,ACUG,WJXO,QAAL,GAAgB,EAAhB,UIWkE,MAAK,KAAL,CAAW,OAAX,CAAmB,CAAnB,CAApE;AL5BC,ACkBF,AIUC,WEXJ,CFWY,EAAR,cEXI,QAAR,CFWY,CEXY,CFWpB;ALrBF,AKqBE,AEVF,YFUc,CEVP,IFUL,CEVU,KAAL,CAAW,QAAX,CAAP,OFUc,KAAZ,eLrBuC;AAAA,AKqBvC,AETH,YFSsB,ELrBV,SAA8B,GKqBvC,uBAAmB,cAAnB;AAAA,WDRJ,CCQuC,IAAnC,aDRE,UCQiC,IAAnC;ALpBA,AIaF,ACOE,UDPI,EAAE,ACOmC,ELpBrC,CIaK,GCOT,KLpBa,AIaI,CJbH,AIaI,IAAT,CAAc,EJbnB,CAAkB,GIab,CAAqB,CAArB,CAAX,GJbiC,AKoBU,CLpBT,IAA5B,CKoBJ,ILpByC,CAAzC,EAA4C;AAC1C,AIaJ,ACME,UDNI,CGDR,CPZM,AKmB+C,CDN1C,GAAG,IAAI,ACMd,CLnBW,CAAC,GIaE,CJbZ,AIaY,CJbG,EOYZ,IPZH,COYN,EAA0B,GHCZ,CAAkB,GCMqB,KDNrB,CAAA,ECM5B,SDN4B,CAAY,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAlB,CAAZ;AJZI,AChCR,AG6CI,ACKE,AENF,ON5CJ,CAAA,EG6CU,CGDD,CFMwD,GJlDjE,CIkDM,AENF,EN5CJ,CM4CiB,CHCG,EH7CpB,CG6CmC,CGDb,CAAC,CHCe,CAAC,CGDtB,CAAU,KHCQ,EAA/B,GCK6D,AENtC,IFMrB,AENyB;APXxB,AIcH,AGH2B,WHGtB,IGH0B,CHG/B,CAAW,IGHoB,CAAA,GHG/B,CAAoB,EGHW,CAAA,GHGL,CAAC,EAAD,AGHK,CHG/B,AGH+B,MAAA,CAAA,EAAA,EAC1B,IAD0B,CAAA,EACtB;APXR,AIcD,ACGE,AELA,UAAA,CL1BF,AE4BK,GCGE,AELD,EAAE,KFKN,KDHF,CAAqB,GF5Bd,OE4BP,EAAiC,KAAK,WAAL,CAAiB,GCI5B,IAAI,GDJkC,ACI/B,CDJgC,QAA5B,CAAjC,ECI0B,GAAkB,UAD1C,oMAI0B,EAJ1B,gBAIiC,KAJjC,yKAOyE,cAPzE,yNAY+C,IAZ/C,2EAagD,MAbhD,2EAcgD,QAdhD;AH9BA,AFCC,AI2BH,ACqBC,AEzBQ,SADsB,CAAJ,CHKtB,EF5BI,KAAK,QE4Bd,CAAqB,CF5BZ,EAAP,UE4BF,EAAoC,MAAM,CAAC,KAAK,KAAL,CAAW,WAAZ,CAA1C;AF3BC,AFAE,AI4BH,AGN2B,OAAd,CAAb,GHMK,eAAL,CAAqB,OAArB,EAA8B,UAAU,CAAC,KAAzC;AJ5BG,AI6BH,ACqBA,AExBD,WHGM,CCqBA,cDrBL,CAAqB,ACqBrB,CAAqB,QDrBrB,EAAgC,CCqBhC,EAAkC,MAAK,CDrBG,CAAC,KCqBT,EDrBlC,ACqBA;ALlDG,AI+BH,WAAK,UAAL;AJ/BG,AIgCJ,ACmBC,YAAK,eAAL,CAAqB,WAArB,EAAkC,MAAM,CAAC,MAAK,KAAL,CAAW,QAAZ,CAAxC;ALtCD,EEhBgC,SK+BjC,kBAAS,EAAT,EAAmB;AFwBjB,AEvBA,UAAM,EFuBD,EEvBK,GAAG,KAAK,KFuBlB,AEvBa,CFuBQ,AEvBG,IAAX,CAAgB,MFuB7B,EAAkC,EEvBJ,IFuBU,AEvBX,CFuBY,MAAK,KAAL,CAAW,QAAZ,CAAxC;AHvDF,AKgC+B,OLhC/B,CAAA,GEqCA,IGLmD,ILhCnD,AKgCuD,CAAC,ELhCxD,AKgCmD,KAAW,EAA/B,GHKnB,CFrCZ,OEqCA,EAAmC;AACjC,ACmBA,AEzB6B,OAAhB,CAAb,GHMI,CCmBC,GDnBG,CAAC,GAAG,CAAZ,EAAe,ACmBf,CDnBgB,GAAG,QAAQ,CAAC,MAA5B,EAAoC,CAAC,EAArC,EAAyC;AACvC,ACmBH,IHpDY,CGqBb,ODYU,OAAO,GAAgB,QAAQ,CAAC,CAAD,CAArC;AAEA,AGPF,UAAG,GHOI,CGPP,EAAQ,IHON,gDAC8B,OAAO,CAAC,KAAR,GAAgB,EAD9C,mJAIgB,OAAO,CAAC,IAJxB,uBAIyC,OAAO,CAAC,QAJjD,sEAM+B,OAAO,CAAC,OANvC;AJzDN,AKmCI,AEgBE,OPnDN,CAAA,AOmDM,EFhBG,EEgBC,CFhBN,AEgBO,EPnDX,CKmCe,CEgBT,CPnDN,EKmCmB,AEgBD,IPnDlB,AOmDM,CFhBa,CAAA,WAAJ,CAAgB,QAAA,CAAA,QAAhB,CAAX;ADgCE,AC/BF,AEgBC,UFhBI,ED+BC,GC/BN,GAAa,CD+BA,CAAC,GC/Bd,KD+BM,CAAiB,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,AGfL,eHeU,OAAL,CAAa,KAAK,WAAL,CAAiB,OAAO,CAAC,QAAzB,CAAb;AACD,AC/BH,QAAI,CAAC,MAAK,KAAL,CAAW,QAAhB,EAA0B;ADgCzB,AC/BC,YAAK,KAAL,CAAW,QAAX,CAAoB,MAAK,GAAL,CAAS,OAAT,EAApB;AACD;ADgCD,aAAO,KAAK,OAAL,EAAP;AACD,AC1CgD;AAUhD,AE1CH,OAAA,CAAA,KAAA,GAAA,KAAA;;;EHgC4C,ACJF,MDIE,ACJF,CDIE,ACJF,EHJtC,mBAAO;AACL,aAAO,KAAK,UAAL,EAAP;AACD,AEML,ACJA,ODIA,ACJA,CDIA,ACJA,ODIA,ACJA,GDIA,ACJA,YAAA,EDIA;;;;EFTqC;;AAAnC,OAAA,CAAA,aAAA,GAAA,aAAA","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import {RouteInfo} from '../types';\r\nimport View from './view';\r\n\r\nexport default class Router { \r\n  routeTable: RouteInfo[];\r\n  defaultRoute: RouteInfo | null;\r\n\r\n  constructor() {\r\n    window.addEventListener('hashchange', this.route.bind(this)); //윈도우 해시체인지에 route를 연결\r\n\r\n    this.routeTable = [];\r\n    this.defaultRoute = null;\r\n  }\r\n  \r\n  setDefaultPage(page: View): void {\r\n    this.defaultRoute = { path: '', page };\r\n  }\r\n\r\n  addRoutePath(path: string, page: View): void {\r\n    this.routeTable.push({ path, page });\r\n  }\r\n\r\n  route() {\r\n    const routePath = location.hash;\r\n\r\n    if (routePath === '' && this.defaultRoute) {\r\n      this.defaultRoute.page.render();\r\n    }\r\n\r\n    for (const routeInfo of this.routeTable) {\r\n      if (routePath.indexOf(routeInfo.path) >= 0) {\r\n        routeInfo.page.render();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","export default abstract class View {\r\n    private template: string;\r\n    private renderTemplate: string; //원본템플릿 보존을 위해\r\n    private container: HTMLElement;\r\n    private htmlList: string[];\r\n\r\n    constructor(containerId: string, template: string) {\r\n        const containerElement = document.getElementById(containerId);\r\n\r\n        if (!containerElement) {\r\n            throw '최상위 컨테이너가 없어 UI를 진행하지 못합니다.';\r\n        }\r\n\r\n        this.container = containerElement;\r\n        this.template = template;\r\n        this.renderTemplate = template;\r\n        this.htmlList = [];\r\n    }\r\n\r\n    protected updateView(): void {\r\n        this.container.innerHTML = this.renderTemplate;\r\n        this.renderTemplate = this.template;\r\n    }\r\n\r\n    protected addHtml(htmlString: string): void {\r\n        this.htmlList.push(htmlString);\r\n    }\r\n\r\n    protected getHtml(): string {\r\n        const snapshot = this.htmlList.join('');\r\n        this.clearHtmlList(); //최총 호출 이후 HTML 클리어\r\n        return snapshot;\r\n    }\r\n\r\n    protected setTemplateData(key: string, value: string): void {\r\n        this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\r\n    }\r\n\r\n    private clearHtmlList(): void {\r\n        this.htmlList = [];\r\n    }\r\n\r\n    abstract render(): void;\r\n}","import { NewsFeed,NewsDetail } from '../types';\r\n\r\nexport class Api {\r\n    ajax: XMLHttpRequest;\r\n    url: string;\r\n  \r\n    constructor(url: string) {\r\n      this.ajax = new XMLHttpRequest();\r\n      this.url = url;\r\n    }\r\n  \r\n    getRequest<AjaxResponse>(): AjaxResponse {\r\n      this.ajax.open('GET', this.url, false);\r\n      this.ajax.send();\r\n  \r\n      return JSON.parse(this.ajax.response);\r\n    }\r\n  }\r\n  \r\n  export class NewsFeedApi extends Api {\r\n    getData(): NewsFeed[] {\r\n      return this.getRequest<NewsFeed[]>();\r\n    }\r\n  }\r\n  \r\n  export class NewsDetailApi extends Api {\r\n    getData(): NewsDetail {\r\n      return this.getRequest<NewsDetail>();\r\n    }\r\n  }","export const NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\r\nexport const CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';","import View from '../core/view';\r\nimport { NewsDetailApi } from '../core/api';\r\nimport { NewsDetail, NewsComment, NewsStore } from '../types';\r\nimport { CONTENT_URL } from '../config';\r\n\r\nconst template = `\r\n<div class=\"bg-gray-600 min-h-screen pb-8\">\r\n  <div class=\"bg-white text-xl\">\r\n    <div class=\"mx-auto px-4\">\r\n      <div class=\"flex justify-between items-center py-6\">\r\n        <div class=\"flex justify-start\">\r\n          <h1 class=\"font-extrabold\">Hacker News</h1>\r\n        </div>\r\n        <div class=\"items-center justify-end\">\r\n          <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\r\n            <i class=\"fa fa-times\"></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\r\n    <h2>{{__title__}}</h2>\r\n    <div class=\"text-gray-400 h-20\">\r\n      {{__content__}}\r\n    </div>\r\n\r\n    {{__comments__}}\r\n\r\n  </div>\r\n</div>\r\n`;\r\n\r\nexport default class NewsDetailView extends View {\r\n  private store: NewsStore;\r\n  constructor(containerId: string, store: NewsStore) {\r\n    super(containerId, template);  \r\n\r\n    this.store = store;\r\n  }\r\n\r\n  render() {\r\n    const id = location.hash.substr(7);\r\n    const api = new NewsDetailApi(CONTENT_URL.replace('@id', id));\r\n    const newsDetail: NewsDetail = api.getData();\r\n\r\n    this.store.makeRead(Number(id));\r\n    this.setTemplateData('comments', this.makeComment(newsDetail.comments))\r\n    this.setTemplateData('currentPage', String(this.store.currentPage));\r\n    this.setTemplateData('title', newsDetail.title);\r\n    this.setTemplateData('content', newsDetail.content);\r\n\r\n    this.updateView();  \r\n  }\r\n\r\n  makeComment(comments: NewsComment[]): string {\r\n    for(let i = 0; i < comments.length; i++) {\r\n      const comment: NewsComment = comments[i];\r\n  \r\n      this.addHtml(`\r\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\r\n          <div class=\"text-gray-400\">\r\n            <i class=\"fa fa-sort-up mr-2\"></i>\r\n            <strong>${comment.user}</strong> ${comment.time_ago}\r\n          </div>\r\n          <p class=\"text-gray-700\">${comment.content}</p>\r\n        </div>      \r\n      `);\r\n  \r\n      if (comment.comments.length > 0) {\r\n        this.addHtml(this.makeComment(comment.comments));\r\n      }\r\n    }\r\n  \r\n    return this.getHtml();\r\n  }  \r\n}","import View from '../core/view';\r\nimport { NewsFeedApi } from '../core/api';\r\nimport { NewsFeed, NewsStore } from '../types';\r\nimport { NEWS_URL } from '../config';\r\n\r\nconst template: string = `\r\n<div class=\"bg-gray-600 min-h-screen\">\r\n  <div class=\"bg-white text-xl\">\r\n    <div class=\"mx-auto px-4\">\r\n      <div class=\"flex justify-between items-center py-6\">\r\n        <div class=\"flex justify-start\">\r\n          <h1 class=\"font-extrabold\">Hacker News</h1>\r\n        </div>\r\n        <div class=\"items-center justify-end\">\r\n          <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\r\n            Previous\r\n          </a>\r\n          <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\r\n            Next\r\n          </a>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  </div>\r\n  <div class=\"p-4 text-2xl text-gray-700\">\r\n    {{__news_feed__}}        \r\n  </div>\r\n</div>\r\n`;\r\n\r\nexport default class NewsFeedView extends View {\r\n  private api: NewsFeedApi;\r\n  private store: NewsStore;\r\n  \r\n  constructor(containerId: string, store: NewsStore) {\r\n\r\n    super(containerId, template);\r\n\r\n    this.api = new NewsFeedApi(NEWS_URL);\r\n    this.store = store;\r\n  \r\n    if (!this.store.hasFeeds) {\r\n      this.store.setFeeds(this.api.getData());\r\n    }\r\n  }\r\n  \r\n  render = (page: string = '1' ): void => {\r\n    this.store.currentPage = Number(page);\r\n\r\n    for(let i = (this.store.currentPage - 1) * 10; i < this.store.currentPage * 10; i++) {\r\n      const { id, title, comments_count, user, points, time_ago, read } = this.store.getFeed(i);\r\n      this.addHtml(`\r\n        <div class=\"p-6 ${read ? 'bg-red-500' : 'bg-white'} mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\r\n          <div class=\"flex\">\r\n            <div class=\"flex-auto\">\r\n              <a href=\"#/show/${id}\">${title}</a>  \r\n            </div>\r\n            <div class=\"text-center text-sm\">\r\n              <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex mt-3\">\r\n            <div class=\"grid grid-cols-3 text-sm text-gray-500\">\r\n              <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\r\n              <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\r\n              <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\r\n            </div>  \r\n          </div>\r\n        </div>    \r\n      `);\r\n    }\r\n  \r\n    this.setTemplateData('news_feed', this.getHtml());\r\n    this.setTemplateData('prev_page', String(this.store.prevPage));\r\n    this.setTemplateData('next_page', String(this.store.nextPage));\r\n  \r\n    this.updateView();  \r\n  }\r\n\r\n\r\n}","\r\nexport { default as NewsDetailView } from './news-detail-view';\r\nexport { default as NewsFeedView} from './news-feed-view';","import { NewsFeed, NewsStore } from \"./types\";\r\n\r\nexport class Store implements NewsStore {\r\n  private feeds : NewsFeed[];\r\n  private _currentPage: number;\r\n\r\n  constructor() {\r\n    this.feeds = [];\r\n    this._currentPage = 1;\r\n  }\r\n\r\n  get currentPage() { //외부에서는 함수가 아닌 속성값으로 사용될 수 있도록\r\n    return this._currentPage;\r\n  }\r\n\r\n  set currentPage(page: number) {\r\n    this._currentPage = page;\r\n  }\r\n\r\n  get nextPage(): number {\r\n    return this._currentPage + 1;\r\n  }\r\n\r\n  get prevPage(): number {\r\n    return this._currentPage > 1 ? this._currentPage - 1 : 1;\r\n  }\r\n\r\n  get numberOfFeed(): number {\r\n    return this.feeds.length;\r\n  }\r\n\r\n  get hasFeeds(): boolean {\r\n    return this.feeds.length > 0;\r\n  }\r\n\r\n  getAllFeeds(): NewsFeed[] {\r\n    return this.feeds;\r\n  } \r\n\r\n  getFeed(position: number): NewsFeed {\r\n    return this.feeds[position];\r\n  } \r\n\r\n  setFeeds(feeds: NewsFeed[]) : void{\r\n    this.feeds = feeds.map(feed => ({\r\n      ...feed, //스프레드 오퍼레이터 더 알아보기\r\n      read: false\r\n    }))\r\n  }\r\n\r\n  makeRead(id: number): void {\r\n    const feed = this.feeds.find((feed: NewsFeed) => feed.id ===id);\r\n\r\n    if(feed){\r\n      feed.read = true;\r\n    }\r\n  }\r\n}","import Router from './core/router';\r\nimport { NewsDetailView, NewsFeedView }from './page';\r\nimport { Store } from './store';\r\n\r\nconst store = new Store();\r\n\r\nconst router: Router = new Router();\r\nconst newsFeedView = new NewsFeedView('root', store);\r\nconst newsDetailView = new NewsDetailView('root', store);\r\n\r\nrouter.setDefaultPage(newsFeedView);\r\n\r\nrouter.addRoutePath('/page/', newsFeedView);\r\nrouter.addRoutePath('/show/', newsDetailView);\r\n\r\nrouter.route(); //최초 실행시엔 해시체인지가 발생하지 않으므로 route를 수동동작\r\n"]}